{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_Z0BIph1LsdCT5cJGo7ARHC7iOuxM4QW5cYxBKcNj8F2frRfgtpqlzx3YZYFIANG4\";\n\nexport function fetchBreeds() {\n  return axios.get(\"https://api.thecatapi.com/v1/breeds\");\n}\n\nexport function fetchCatByBreed(id) {\n  return axios.get(\"https://api.thecatapi.com/v1/images/search?\", {\n    params: {\n      breed_ids: id\n    }\n  });\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\n\n// import SlimSelect from 'slim-select'\n\nconst dropdown = document.querySelector(\".breed-select\");\nconst dataCard = document.querySelector(\".cat-info\");\nconst loader = document.querySelector(\".loader\");\n\nfetchBreeds()\n  .then((resp) =>  createDropdown(resp.data))\n  .catch((err) => {\n    iziToast.warning({\n      title: 'Oops! Something went wrong! Try reload the page!',\n      message: err.message,\n      position: 'topRight'\n    })\n  })\n  .finally(() => { loader.classList.toggle(\"isHidden\")})\n\nfunction createDropdown(data) {\n  const dropdownData = data.map(el => {\n    return `<option value=\"${el.id}\">${el.name}</option>`\n  }).join(\" \")\n  dropdown.insertAdjacentHTML(\"afterbegin\", dropdownData)\n}\n\ndropdown.addEventListener(\"change\", hanleSelection);\n\nfunction hanleSelection(evt) {\n  loader.classList.toggle(\"isHidden\");\n  dataCard.innerHTML = \"\";\n  fetchCatByBreed(evt.target.value)\n    .then((resp) => {\n      createMarkup(resp.data[0])\n    })\n    .catch((err) => {\n      iziToast.warning({\n        title: 'Oops! Something went wrong! Try reload the page!',\n        message: err.message,\n        position: 'topRight'\n      })\n    })\n    .finally(() => { loader.classList.toggle(\"isHidden\") })\n}\n\nfunction createMarkup(data) {\n  const { url, breeds: [{ name, description, temperament }] } = data\n  const markup = `<div class=\"container\"><img src=\"${url}\" alt=\"${name}\"></div>\n      <section>\n        <h2>${name}</h2>\n        <p>${description}</p>\n        <p><span class=\"bold-text\">Temperament:</span> ${temperament}</p>\n      </section>\n  `\n  dataCard.innerHTML = markup;\n}\n"],"names":["axios","fetchBreeds","fetchCatByBreed","id","dropdown","dataCard","loader","resp","createDropdown","err","iziToast","data","dropdownData","el","hanleSelection","evt","createMarkup","url","name","description","temperament","markup"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,SAASC,GAAc,CAC5B,OAAOD,EAAM,IAAI,qCAAqC,CACxD,CAEO,SAASE,EAAgBC,EAAI,CAClC,OAAOH,EAAM,IAAI,8CAA+C,CAC9D,OAAQ,CACN,UAAWG,CACZ,CACL,CAAG,CACH,CCPA,MAAMC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAE/CL,EAAa,EACV,KAAMM,GAAUC,EAAeD,EAAK,IAAI,CAAC,EACzC,MAAOE,GAAQ,CACdC,EAAS,QAAQ,CACf,MAAO,mDACP,QAASD,EAAI,QACb,SAAU,UAChB,CAAK,CACL,CAAG,EACA,QAAQ,IAAM,CAAEH,EAAO,UAAU,OAAO,UAAU,CAAC,CAAC,EAEvD,SAASE,EAAeG,EAAM,CAC5B,MAAMC,EAAeD,EAAK,IAAIE,GACrB,kBAAkBA,EAAG,OAAOA,EAAG,eACvC,EAAE,KAAK,GAAG,EACXT,EAAS,mBAAmB,aAAcQ,CAAY,CACxD,CAEAR,EAAS,iBAAiB,SAAUU,CAAc,EAElD,SAASA,EAAeC,EAAK,CAC3BT,EAAO,UAAU,OAAO,UAAU,EAClCD,EAAS,UAAY,GACrBH,EAAgBa,EAAI,OAAO,KAAK,EAC7B,KAAMR,GAAS,CACdS,EAAaT,EAAK,KAAK,EAAE,CAC/B,CAAK,EACA,MAAOE,GAAQ,CACdC,EAAS,QAAQ,CACf,MAAO,mDACP,QAASD,EAAI,QACb,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CAAEH,EAAO,UAAU,OAAO,UAAU,EAAG,CAC1D,CAEA,SAASU,EAAaL,EAAM,CAC1B,KAAM,CAAE,IAAAM,EAAK,OAAQ,CAAC,CAAE,KAAAC,EAAM,YAAAC,EAAa,YAAAC,EAAa,CAAC,EAAKT,EACxDU,EAAS,oCAAoCJ,WAAaC;AAAA;AAAA,cAEpDA;AAAA,aACDC;AAAA,yDAC4CC;AAAA;AAAA,IAGvDf,EAAS,UAAYgB,CACvB"}